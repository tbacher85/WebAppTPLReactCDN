<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micro-SaaS React App</title>
    <!-- React, ReactDOM, and Babel from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .fade-in {
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    
    <script type="text/babel">
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // React Components
        const { useState, useEffect } = React;
        
        // Auth Component
        function Auth() {
            const [isLogin, setIsLogin] = useState(true);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [name, setName] = useState('');
            const [error, setError] = useState('');
            const [loading, setLoading] = useState(false);
            
            const handleAuth = async (e) => {
                e.preventDefault();
                setLoading(true);
                setError('');
                
                try {
                    if (isLogin) {
                        // Login
                        await firebase.auth().signInWithEmailAndPassword(email, password);
                    } else {
                        // Sign up
                        const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);
                        // Update profile with name
                        await userCredential.user.updateProfile({
                            displayName: name
                        });
                    }
                } catch (err) {
                    setError(err.message);
                }
                setLoading(false);
            };
            
            return (
                <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
                    <div className="max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-md fade-in">
                        <div>
                            <h2 className="mt-6 text-center text-3xl font-extrabold text-gray-900">
                                {isLogin ? 'Sign in to your account' : 'Create new account'}
                            </h2>
                        </div>
                        <form className="mt-8 space-y-6" onSubmit={handleAuth}>
                            {error && (
                                <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative">
                                    {error}
                                </div>
                            )}
                            {!isLogin && (
                                <div>
                                    <label htmlFor="name" className="sr-only">Full Name</label>
                                    <input
                                        id="name"
                                        name="name"
                                        type="text"
                                        required
                                        className="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
                                        placeholder="Full Name"
                                        value={name}
                                        onChange={(e) => setName(e.target.value)}
                                    />
                                </div>
                            )}
                            <div>
                                <label htmlFor="email" className="sr-only">Email address</label>
                                <input
                                    id="email"
                                    name="email"
                                    type="email"
                                    autoComplete="email"
                                    required
                                    className="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
                                    placeholder="Email address"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                />
                            </div>
                            <div>
                                <label htmlFor="password" className="sr-only">Password</label>
                                <input
                                    id="password"
                                    name="password"
                                    type="password"
                                    autoComplete="current-password"
                                    required
                                    className="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"
                                    placeholder="Password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                />
                            </div>
                            <div>
                                <button
                                    type="submit"
                                    disabled={loading}
                                    className="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"
                                >
                                    {loading ? 'Processing...' : (isLogin ? 'Sign in' : 'Sign up')}
                                </button>
                            </div>
                            <div className="text-center">
                                <button
                                    type="button"
                                    className="text-indigo-600 hover:text-indigo-500"
                                    onClick={() => setIsLogin(!isLogin)}
                                >
                                    {isLogin ? 'Need an account? Sign up' : 'Already have an account? Sign in'}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }
        
        // Dashboard Component
        function Dashboard({ user }) {
            const [featureData, setFeatureData] = useState([]);
            
            // Simulate loading feature data
            useEffect(() => {
                // This would come from your Firebase database in a real app
                const mockData = [
                    { id: 1, title: 'Feature One', description: 'This is your first main feature' },
                    { id: 2, title: 'Feature Two', description: 'This is your second important feature' },
                    { id: 3, title: 'Settings', description: 'Configure your application preferences' }
                ];
                setFeatureData(mockData);
            }, []);
            
            const handleLogout = () => {
                firebase.auth().signOut();
            };
            
            return (
                <div className="min-h-screen bg-gray-50 fade-in">
                    <header className="bg-white shadow">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex justify-between items-center">
                            <h1 className="text-2xl font-bold text-gray-900">Your Micro-SaaS</h1>
                            <div className="flex items-center space-x-4">
                                <span className="text-gray-700">Hello, {user.displayName || user.email}</span>
                                <button
                                    onClick={handleLogout}
                                    className="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded-md text-sm font-medium"
                                >
                                    Logout
                                </button>
                            </div>
                        </div>
                    </header>
                    <main>
                        <div className="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
                            <div className="px-4 py-6 sm:px-0">
                                <div className="border-4 border-dashed border-gray-200 rounded-lg p-8">
                                    <h2 className="text-2xl font-semibold text-gray-900 mb-6">Dashboard</h2>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                        {featureData.map(feature => (
                                            <div key={feature.id} className="bg-white overflow-hidden shadow rounded-lg">
                                                <div className="px-4 py-5 sm:p-6">
                                                    <h3 className="text-lg font-medium text-gray-900">{feature.title}</h3>
                                                    <p className="mt-2 text-sm text-gray-500">{feature.description}</p>
                                                    <div className="mt-4">
                                                        <button className="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                                            Explore
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        }
        
        // Main App Component
        function App() {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            
            useEffect(() => {
                // Listen for auth state changes
                const unsubscribe = firebase.auth().onAuthStateChanged((user) => {
                    setUser(user);
                    setLoading(false);
                });
                
                // Cleanup subscription on unmount
                return () => unsubscribe();
            }, []);
            
            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"></div>
                    </div>
                );
            }
            
            return user ? <Dashboard user={user} /> : <Auth />;
        }
        
        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
